<div class="head">
    <h1>@ViewBag.ThisCategory.Name</h1>
    <a class="backLink" href="/categories">Back</a>
</div>
<div class="left">
    <h2>Products:</h2>
    <ul>
        @if (ViewBag.CategoryWithProducts != null)
        {
            @foreach (var p in ViewBag.CategoryWithProducts.AssocProds)
            {
                <li>@p.Product.Name</li>
            }
        }
    </ul>
</div>
@model Association
<form class="right" asp-action="AddProdToCat" asp-controller="Home" method="POST">
    <h3>Add Product:</h3>
    <div class="row">
        <input type="hidden" asp-for="CategoryId" value="@ViewBag.ThisCategory.CategoryId">
        <select asp-for="ProductId">
        @if (ViewBag.NotYetAssoc != null)
        {
            @foreach (var p in ViewBag.NotYetAssoc)
            {
                <option value="@p.ProductId">@p.Name</option>
            }
        }
        </select>
    </div>
    <div class="row">
        <input value="Add" type="submit">
    </div>
</form>